#include <iostream>
#include <stdio.h>
#include <cstring>

using namespace std;


int main()
{
    setlocale(LC_ALL, "Rus");

    /*
    Имеем: Название банка, курс покупки и продажи
    (Покупка - покупатель банк, продажа - также банк,
    обычно покупка < продажи)
    Найти: Средний курс доллара и евро для каждого банка
    (продажа + покупка) / 2
    + Сохранить названия банков с лучшим курсом покупки и продажи
    */

    char name[10], bd_n[10], sd_n[10], be_n[10], se_n[10];
    int n, b_d, s_d, b_e, s_e, bd_m, sd_m, be_m, se_m;

    // Первый прогон, для задания значений луших курсов
    cout << "Введите количество банков: "; cin >> n; cout << endl;
    if (n) 
    {
        do
        {
            cout << "Введите название банка: "; cin >> name;

            cout << "Введите курс покупки доллара - "; cin >> b_d;
            if (b_d < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }
            bd_m = b_d; strcpy_s(bd_n, name);
            
            cout << "Введите курс продажи доллара - "; cin >> s_d;
            if (s_d < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }
            sd_m = s_d; strcpy_s(sd_n, name);

            cout << "Введите курс покупки евро - "; cin >> b_e;
            if (b_e < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }
            be_m = b_e; strcpy_s(be_n, name);
            
            cout << "Введите курс продажи евро - "; cin >> s_e;
            if (s_e < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }
            se_m = s_e; strcpy_s(se_n, name);

        } while ((s_d < 0) && (b_d < 0) && (s_e < 0) && (b_e < 0));
        
        // Вывод таблицы
        printf("\n--------------------------------------------------------------------------------------------------------------");
        printf("\n| N | Название | Покупка (Д) | Продажа (Д) | Средний курс (Д) | Покупка (Е) | Продажа (Е) | Средний курс (Е) |");
        printf("\n--------------------------------------------------------------------------------------------------------------");
        printf("\n|%3d|%10s|%13d|%13d|%18d|%13d|%13d|%18d|", 1, name, b_d, s_d, ((s_d + b_d) / 2), b_e, s_e, ((s_e + b_e) / 2));
        printf("\n--------------------------------------------------------------------------------------------------------------");
        cout << endl;
    }

    // Ввод данных о последующих банках
    for (int i = 2; i <= n; i++)
    {
        do
        {
            cout << "Введите название банка: "; cin >> name;

            cout << "Введите курс покупки доллара - "; cin >> b_d;
            if (b_d < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }

            cout << "Введите курс продажи доллара - "; cin >> s_d;
            if (s_d < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }

            cout << "Введите курс покупки евро - "; cin >> b_e;
            if (b_e < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }

            cout << "Введите курс продажи евро - "; cin >> s_e;
            if (s_e < 0)
            {
                cout << "Значение введено неверно\n" << endl; continue;
            }

        } while ((s_d < 0) && (b_d < 0) && (s_e < 0) && (b_e < 0));

        // Нахождение лучшего курса
        // bd
        if (b_d > bd_m) { bd_m = b_d; strcpy_s(bd_n, name); }
        // sd
        if (s_d < sd_m) { sd_m = s_d; strcpy_s(sd_n, name); }
        // be
        if (b_e > be_m) { be_m = b_e; strcpy_s(be_n, name); }
        // se
        if (s_e < se_m) { se_m = s_e; strcpy_s(se_n, name); }

        // Вывод таблицы
        printf("\n--------------------------------------------------------------------------------------------------------------");
        printf("\n| N | Название | Покупка (Д) | Продажа (Д) | Средний курс (Д) | Покупка (Е) | Продажа (Е) | Средний курс (Е) |");
        printf("\n--------------------------------------------------------------------------------------------------------------");
        printf("\n|%3d|%10s|%13d|%13d|%18d|%13d|%13d|%18d|", i, name, b_d, s_d, ((s_d + b_d) / 2), b_e, s_e, ((s_e + b_e) / 2));
        printf("\n--------------------------------------------------------------------------------------------------------------");
        cout << endl;
    }

    // Вывод лучших банков
    if (n)
    {
        cout << "Лучшие курсы обмена\n";
        cout << "Покупка (Д): банк " << bd_n << " - " << bd_m << endl;
        cout << "Продажа (Д): банк " << sd_n << " - " << sd_m << endl;
        cout << "Покупка (Е): банк " << be_n << " - " << be_m << endl;
        cout << "Продажа (Е): банк " << se_n << " - " << se_m << endl;
    }

    return 0;
}
